class Product {
    name: ProductName
    type: ProductType
}

typealias ProductName = "MeshGuard"|"ServiceNavigator"|"MicroFleet"

typealias ProductType = "server"|"client"

class Server {
    hostname: String
    ipaddress: String
    products: Listing<Product>?
}

class Datacenter {
    meshguard: MeshGuard = new {
        servercount = servers.toList().filter((it) -> if (it.products == null) false else (if (it.products.toList().filter((p) -> p.name == "MeshGuard" && p.type == "server").length > 0) true else false)).length
    }
    servers: Listing<Server>
}


class MeshGuard {
    clustername: String
    servercount: Int
}

datacenter: Datacenter
